window.drawThermometerDetails=function(t,h){jQuery(function(){function e(h,e){return h+"-"+t+"-"+e.replace(" ","-")}function a(t,h){return e("canvas-"+t,h)}function s(t,h){return e("popup-"+t,h)}function i(t,h,e){var s=2*(l+n)+10,i=jQuery(d).closest(".thermometer"),o=(i.width()-s)/2+"px",p=(i.height()-s)/2+"px",r='<svg style="position: absolute; top: '+p+"; left:"+o+';" width="'+s+'" height="'+s+'" class="arc" id="'+a("arc",t)+'">',c=s/2,M=s/2,u=h*Math.PI/50-Math.PI/2,g=c+l*Math.cos(u),y=M+l*Math.sin(u),v=e*Math.PI/50-Math.PI/2,m=c+l*Math.cos(v),x=M+l*Math.sin(v);r+='<path stroke-width="'+n+'" class="details-arc '+t+'" d="',r+="M "+g+" "+y+" A "+l+" "+l+" 0 0 1 "+m+" "+x,r+='"></path>',r+="</svg>",jQuery(r).appendTo(d).get(0)}function o(t,h,e){var s,i,o,p,c,M,u=2*r+10,g=jQuery(d).closest(".thermometer"),y=(h+e)/2,v=y*Math.PI/50-Math.PI/2,m="";y>=0&&y<25?(s=n,i=u-n,m+=" top right",o=g.width()/2+l*Math.cos(v)-n+"px",M=g.height()/2-l*Math.sin(v)-n+"px"):y>=12.5&&y<50?(s=n,i=n,m+=" bottom right",o=g.width()/2+l*Math.cos(v)-n+"px",c=g.height()/2+l*Math.sin(v)-n+"px"):y>=50&&y<75?(s=u-n,i=n,m+=" bottom left",p=g.width()/2-l*Math.cos(v)-n+"px",c=g.height()/2+l*Math.sin(v)-n+"px"):y>=75&&y<100&&(s=u-n,i=u-n,m+=" top left",p=g.width()/2-l*Math.cos(v)-n+"px",M=g.height()/2-l*Math.sin(v)-n+"px");var x=s+r*Math.cos(v),f=i+r*Math.sin(v),w=y<50?r:-r,b='<svg style="position: absolute; ';c?(b+="top: ",b+=c):(b+="bottom: ",b+=M),b+="; ",o?(b+="left: ",b+=o):(b+="right: ",b+=p),b+=';" width="'+u+'" height="'+u+'" class="line '+m+'" id="'+a("line",t)+'">',b+='<path stroke-width="'+n+'" class="details-line '+t+'" d="',b+="M "+s+" "+i+" L "+x+" "+f+" h "+w,b+='"></path>',b+="</svg>",jQuery(b).appendTo(d).get(0)}function p(t,h,e,a,i){var o=jQuery('<div class="popup" id="'+s("popup",t)+'"></div>').appendTo(d).get(0);o.style.position="absolute",o.style.height=c+"px",o.style.width=M+"px";var p,n,u,g,y=(a+i)/2,v=y*Math.PI/50-Math.PI/2,m=jQuery(o).closest(".thermometer"),x=v>Math.PI/2?-r:r;y>=0&&y<25?(p=0,n=c,u=p+r*Math.cos(v)+x,g=n+r*Math.sin(v),o.className+=" top right",o.style.left=m.width()/2+l*Math.cos(v)+u+"px",o.style.bottom=m.height()/2-l*Math.sin(v)-g+c/2+"px"):y>=12.5&&y<50?(p=0,n=0,u=p+r*Math.cos(v)+x,g=n+r*Math.sin(v),o.className+=" bottom right",o.style.left=m.width()/2+l*Math.cos(v)+u+"px",o.style.top=m.height()/2+l*Math.sin(v)+g-c/2+"px"):y>=50&&y<75?(p=M,n=0,u=p+r*Math.cos(v)+x,g=n+r*Math.sin(v),o.className+=" bottom left",o.style.right=m.width()/2-l*Math.cos(v)-u+M+"px",o.style.top=m.height()/2+l*Math.sin(v)+g-c/2+"px"):y>=75&&y<100&&(p=M,n=c,u=p+r*Math.cos(v)+x,g=n+r*Math.sin(v),o.className+=" top left",o.style.right=m.width()/2-l*Math.cos(v)-u+M+"px",o.style.bottom=m.height()/2-l*Math.sin(v)-g+c/2+"px"),jQuery('<div></div><div class="popup-title '+t+'">'+h+"</div>"+e+"</div>").appendTo(o)}var n=4,l=150,r=40,c=340,M=300,d=jQuery("#container-"+t),u=0;Object.keys(h).forEach(function(t){var e=h[t],a=e.popup,s=e.name,n=u,l=n+e.value;i(t,n,l),o(t,n,l),p(t,s,a,n,l),u+=e.value})})};